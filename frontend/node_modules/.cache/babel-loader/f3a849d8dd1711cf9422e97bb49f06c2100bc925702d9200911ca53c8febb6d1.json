{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AttendanceForm(){const[memberId,setMemberId]=useState(\"\");const[attendanceRecords,setAttendanceRecords]=useState([]);useEffect(()=>{const storedRecords=localStorage.getItem(\"attendanceRecords\");if(storedRecords){setAttendanceRecords(JSON.parse(storedRecords));}},[]);const data={date:new Date().toISOString().slice(0,10),member_id:memberId};const handleSubmit=async event=>{event.preventDefault();const response=await fetch(\"http://localhost:5000/api/attendance\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(data)});if(response.ok){const newRecord={date:data.date,memberId:data.member_id};const updatedRecords=[...attendanceRecords,newRecord];setAttendanceRecords(updatedRecords);localStorage.setItem(\"attendanceRecords\",JSON.stringify(updatedRecords));setMemberId(\"\");alert(\"Attendance recorded\");}else{const text=await response.text();alert(\"Failed to record attendance: \".concat(text));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"background\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"title\",children:\"Attendance\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Member ID:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:memberId,onChange:e=>setMemberId(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Record Attendance\"})]}),attendanceRecords.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Attendance Records\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Member ID\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:attendanceRecords.map((record,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:record.date}),/*#__PURE__*/_jsx(\"td\",{children:record.memberId})]},index))})]})]})]});}export default AttendanceForm;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","AttendanceForm","memberId","setMemberId","attendanceRecords","setAttendanceRecords","storedRecords","localStorage","getItem","JSON","parse","data","date","Date","toISOString","slice","member_id","handleSubmit","event","preventDefault","response","fetch","method","headers","body","stringify","ok","newRecord","updatedRecords","setItem","alert","text","concat","className","children","onSubmit","type","value","onChange","e","target","required","length","map","record","index"],"sources":["C:/Users/sujee/OneDrive/Documents/CPS406Project-main (1)/CPS406Project-main/frontend/src/admin/attendance.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nfunction AttendanceForm() {\r\n  const [memberId, setMemberId] = useState(\"\");\r\n  const [attendanceRecords, setAttendanceRecords] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const storedRecords = localStorage.getItem(\"attendanceRecords\");\r\n    if (storedRecords) {\r\n      setAttendanceRecords(JSON.parse(storedRecords));\r\n    }\r\n  }, []);\r\n\r\n  const data = {\r\n    date: new Date().toISOString().slice(0, 10),\r\n    member_id: memberId,\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const response = await fetch(\"http://localhost:5000/api/attendance\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n    if (response.ok) {\r\n      const newRecord = { date: data.date, memberId: data.member_id };\r\n      const updatedRecords = [...attendanceRecords, newRecord];\r\n      setAttendanceRecords(updatedRecords);\r\n      localStorage.setItem(\"attendanceRecords\", JSON.stringify(updatedRecords));\r\n      setMemberId(\"\");\r\n      alert(\"Attendance recorded\");\r\n    } else {\r\n      const text = await response.text();\r\n      alert(`Failed to record attendance: ${text}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"background\">\r\n      <h3 className=\"title\">Attendance</h3>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          Member ID:\r\n          <input\r\n            type=\"text\"\r\n            value={memberId}\r\n            onChange={(e) => setMemberId(e.target.value)}\r\n            required\r\n          />\r\n        </label>\r\n        <button type=\"submit\">Record Attendance</button>\r\n      </form>\r\n      {attendanceRecords.length > 0 && (\r\n        <div>\r\n          <h4>Attendance Records</h4>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Date</th>\r\n                <th>Member ID</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {attendanceRecords.map((record, index) => (\r\n                <tr key={index}>\r\n                  <td>{record.date}</td>\r\n                  <td>{record.memberId}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AttendanceForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}