{"ast":null,"code":"import React from\"react\";import{useNavigate}from\"react-router-dom\";import\"./styles/login.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=props=>{const{loggedIn,email}=props;const navigate=useNavigate();const onButtonClick=async()=>{const username=document.getElementById(\"usernameInput\").value;const password=document.getElementById(\"passwordInput\").value;const data={username:username,password:password};try{const response=await fetch(\"http://localhost:5000/validate\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:username,password:password})});const data=await response.json();if(data.valid){if(data.isAdmin){navigate(\"/admin\",{state:{username:username,fullname:data.fullname}});}else{navigate(\"/member\",{state:{username:username,fullname:data.fullname}});}}else{const loginfail=document.getElementById(\"loginfail\");loginfail.style.display=\"block\";}}catch(error){const loginfail=document.getElementById(\"loginfail\");loginfail.style.display=\"block\";console.error(\"Error:\",error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"mainContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"subContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"titleContainer\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Club Log In\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Demo Accounts:\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Admin user: johndoe\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Password: password1\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Member user: bob36\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Password: bob123\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"loginfail\",id:\"loginfail\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"loginfailtext\",children:\"Incorrect username and/or password. Please try again.\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonContainer\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"inputText username\",id:\"usernameInput\",type:\"text\",placeholder:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputText password\",id:\"passwordInput\",type:\"password\",placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputButton\",type:\"button\",onClick:onButtonClick,value:\"Log In\"}),loggedIn?/*#__PURE__*/_jsxs(\"div\",{children:[\"Your email address is \",email]}):/*#__PURE__*/_jsx(\"div\",{})]})]})});};export default Login;","map":{"version":3,"names":["React","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","props","loggedIn","email","navigate","onButtonClick","username","document","getElementById","value","password","data","response","fetch","method","headers","body","JSON","stringify","json","valid","isAdmin","state","fullname","loginfail","style","display","error","console","className","children","id","type","placeholder","onClick"],"sources":["C:/Users/sujee/OneDrive/Documents/CPS406Project-main (1)/CPS406Project-main/frontend/src/login.js"],"sourcesContent":["import React from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./styles/login.css\";\r\n\r\nconst Login = (props) => {\r\n  const { loggedIn, email } = props;\r\n  const navigate = useNavigate();\r\n  const onButtonClick = async () => {\r\n    const username = document.getElementById(\"usernameInput\").value;\r\n    const password = document.getElementById(\"passwordInput\").value;\r\n\r\n    const data = {\r\n      username: username,\r\n      password: password,\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/validate\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ username: username, password: password }),\r\n      });\r\n      const data = await response.json();\r\n      if (data.valid) {\r\n        if (data.isAdmin) {\r\n          navigate(\"/admin\", {\r\n            state: { username: username, fullname: data.fullname },\r\n          });\r\n        } else {\r\n          navigate(\"/member\", {\r\n            state: { username: username, fullname: data.fullname },\r\n          });\r\n        }\r\n      } else {\r\n        const loginfail = document.getElementById(\"loginfail\");\r\n        loginfail.style.display = \"block\";\r\n      }\r\n    } catch (error) {\r\n      const loginfail = document.getElementById(\"loginfail\");\r\n      loginfail.style.display = \"block\";\r\n      console.error(\"Error:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mainContainer\">\r\n      <div className=\"subContainer\">\r\n        <div className={\"titleContainer\"}>\r\n          <h2>Club Log In</h2>\r\n          <h4>Demo Accounts:</h4>\r\n          <h5>Admin user: johndoe</h5>\r\n          <h5>Password: password1</h5>\r\n          <h5>Member user: bob36</h5>\r\n          <h5>Password: bob123</h5>\r\n        </div>\r\n\r\n        <div className={\"loginfail\"} id=\"loginfail\">\r\n          <h4 className=\"loginfailtext\">\r\n            Incorrect username and/or password. Please try again.\r\n          </h4>\r\n        </div>\r\n\r\n        <div className={\"buttonContainer\"}>\r\n          <input\r\n            className={\"inputText username\"}\r\n            id=\"usernameInput\"\r\n            type=\"text\"\r\n            placeholder=\"Username\"\r\n          />\r\n          <input\r\n            className={\"inputText password\"}\r\n            id=\"passwordInput\"\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n          />\r\n          <input\r\n            className={\"inputButton\"}\r\n            type=\"button\"\r\n            onClick={onButtonClick}\r\n            value=\"Log In\"\r\n          />\r\n          {loggedIn ? <div>Your email address is {email}</div> : <div />}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}